{"version":3,"file":"index.es.js","sources":["../src/font.ts","../src/mixin.ts","../src/nord.ts","../src/override.ts","../src/slots.ts","../src/view.ts","../src/index.ts"],"sourcesContent":["/* Copyright 2021, Milkdown by Mirone. */\nexport const typography = [\n    'Roboto',\n    'HelveticaNeue-Light',\n    'Helvetica Neue Light',\n    'Helvetica Neue',\n    'Helvetica',\n    'Arial',\n    'Lucida Grande',\n    'sans-serif',\n];\n\nexport const code = ['Consolas', 'Monaco', 'Andale Mono', 'Ubuntu Mono', 'monospace'];\n","/* Copyright 2021, Milkdown by Mirone. */\nimport { Emotion, ThemePack } from '@milkdown/design-system';\n\nexport const mixin: (emotion: Emotion) => ThemePack['mixin'] =\n    ({ css }) =>\n    ({ palette, size }) => ({\n        scrollbar: (direction = 'y') => css`\n            scrollbar-width: thin;\n            scrollbar-color: ${palette('secondary', 0.38)} ${palette('secondary', 0.12)};\n            -webkit-overflow-scrolling: touch;\n\n            &::-webkit-scrollbar {\n                ${direction === 'y' ? 'width' : 'height'}: 12px;\n                background-color: ${palette('surface')};\n            }\n\n            &::-webkit-scrollbar-track {\n                border-radius: 999px;\n                background: ${palette('secondary', 0.12)};\n                border: 4px solid ${palette('surface')};\n            }\n\n            &::-webkit-scrollbar-thumb {\n                border-radius: 999px;\n                background-color: ${palette('secondary', 0.38)};\n                border: 4px solid ${palette('surface')};\n                background-clip: content-box;\n            }\n\n            &::-webkit-scrollbar-thumb:hover {\n                background-color: ${palette('secondary')};\n            }\n        `,\n        shadow: () => {\n            const { lineWidth } = size;\n            return css`\n                box-shadow: 0px ${lineWidth} ${lineWidth} ${palette('shadow', 0.14)},\n                    0px 2px ${lineWidth} ${palette('shadow', 0.12)}, 0px ${lineWidth} 3px ${palette('shadow', 0.2)};\n            `;\n        },\n        border: (direction) => {\n            if (!direction) {\n                return css`\n                    border: ${size.lineWidth} solid ${palette('line')};\n                `;\n            }\n            return css`\n                ${`border-${direction}`}: ${size.lineWidth} solid ${palette('line')};\n            `;\n        },\n    });\n","/* Copyright 2021, Milkdown by Mirone. */\nimport { ThemePack } from '@milkdown/design-system';\n\nexport const Nord = {\n    nord0: '#2e3440',\n    nord1: '#3b4252',\n    nord2: '#434c5e',\n    nord3: '#4c566a',\n    nord4: '#d8dee9',\n    nord5: '#e5e9f0',\n    nord6: '#eceff4',\n    nord7: '#8fbcbb',\n    nord8: '#88c0d0',\n    nord9: '#81a1c1',\n    nord10: '#5e81ac',\n    nord11: '#bf616a',\n    nord12: '#d08770',\n    nord13: '#ebcb8b',\n    nord14: '#a3be8c',\n    nord15: '#b48ead',\n};\n\nexport const lightColor: ThemePack['color'] = {\n    shadow: Nord.nord1,\n    primary: Nord.nord10,\n    secondary: Nord.nord9,\n    neutral: Nord.nord0,\n    solid: Nord.nord3,\n    line: Nord.nord4,\n    background: Nord.nord6,\n    surface: '#fff',\n};\n\nexport const darkColor: ThemePack['color'] = {\n    shadow: Nord.nord1,\n    primary: Nord.nord10,\n    secondary: Nord.nord9,\n    neutral: Nord.nord6,\n    solid: Nord.nord4,\n    line: Nord.nord2,\n    background: '#252932',\n    surface: Nord.nord0,\n};\n\nexport const color = {\n    lightColor,\n    darkColor,\n} as const;\n","/* Copyright 2021, Milkdown by Mirone. */\n\nimport { Emotion, ThemeTool } from '@milkdown/design-system';\n\nexport const override =\n    ({ css }: Emotion) =>\n    ({ palette, mixin, size, font }: ThemeTool) =>\n        css`\n            .milkdown {\n                color: ${palette('neutral', 0.87)};\n                background: ${palette('surface')};\n\n                position: relative;\n                font-family: ${font.typography};\n                margin-left: auto;\n                margin-right: auto;\n                ${mixin.shadow?.()};\n                box-sizing: border-box;\n                ${mixin.scrollbar?.()};\n\n                .editor {\n                    padding: 3.125rem 1.25rem;\n                    outline: none;\n                    & > * {\n                        margin: 1.875rem 0;\n                    }\n\n                    @media only screen and (min-width: 72rem) {\n                        max-width: 57.375rem;\n                        padding: 3.125rem 7.25rem;\n                    }\n                }\n\n                .ProseMirror-selectednode {\n                    outline: ${size.lineWidth} solid ${palette('line')};\n                }\n\n                li.ProseMirror-selectednode {\n                    outline: none;\n                }\n\n                li.ProseMirror-selectednode::after {\n                    ${mixin.border?.()};\n                }\n\n                & ::selection {\n                    background: ${palette('secondary', 0.38)};\n                }\n            }\n        `;\n","/* Copyright 2021, Milkdown by Mirone. */\n\nimport { Icon, ThemePack } from '@milkdown/design-system';\n\ntype Slot = {\n    icon: string;\n    label: string;\n};\n\nconst iconMapping: Record<Icon, Slot> = {\n    h1: {\n        label: 'h1',\n        icon: 'looks_one',\n    },\n    h2: {\n        label: 'h2',\n        icon: 'looks_two',\n    },\n    h3: {\n        label: 'h3',\n        icon: 'looks_3',\n    },\n    loading: {\n        label: 'loading',\n        icon: 'hourglass_empty',\n    },\n    quote: {\n        label: 'quote',\n        icon: 'format_quote',\n    },\n    code: {\n        label: 'code',\n        icon: 'code',\n    },\n    table: {\n        label: 'table',\n        icon: 'table_chart',\n    },\n    divider: {\n        label: 'divider',\n        icon: 'horizontal_rule',\n    },\n    image: {\n        label: 'image',\n        icon: 'image',\n    },\n    brokenImage: {\n        label: 'broken image',\n        icon: 'broken_image',\n    },\n    bulletList: {\n        label: 'bullet list',\n        icon: 'format_list_bulleted',\n    },\n    orderedList: {\n        label: 'ordered list',\n        icon: 'format_list_numbered',\n    },\n    taskList: {\n        label: 'task list',\n        icon: 'checklist',\n    },\n    bold: {\n        label: 'bold',\n        icon: 'format_bold',\n    },\n    italic: {\n        label: 'italic',\n        icon: 'format_italic',\n    },\n    inlineCode: {\n        label: 'inline code',\n        icon: 'code',\n    },\n    strikeThrough: {\n        label: 'strike through',\n        icon: 'strikethrough_s',\n    },\n    link: {\n        label: 'link',\n        icon: 'link',\n    },\n    leftArrow: {\n        label: 'left arrow',\n        icon: 'chevron_left',\n    },\n    rightArrow: {\n        label: 'right arrow',\n        icon: 'chevron_right',\n    },\n    upArrow: {\n        label: 'up arrow',\n        icon: 'expand_less',\n    },\n    downArrow: {\n        label: 'down arrow',\n        icon: 'expand_more',\n    },\n    alignLeft: {\n        label: 'align left',\n        icon: 'format_align_left',\n    },\n    alignRight: {\n        label: 'align right',\n        icon: 'format_align_right',\n    },\n    alignCenter: {\n        label: 'align center',\n        icon: 'format_align_center',\n    },\n    delete: {\n        label: 'delete',\n        icon: 'delete',\n    },\n    select: {\n        label: 'select',\n        icon: 'select_all',\n    },\n    unchecked: {\n        label: 'unchecked',\n        icon: 'check_box_outline_blank',\n    },\n    checked: {\n        label: 'checked',\n        icon: 'check_box',\n    },\n    undo: {\n        label: 'undo',\n        icon: 'turn_left',\n    },\n    redo: {\n        label: 'redo',\n        icon: 'turn_right',\n    },\n    liftList: {\n        label: 'lift list',\n        icon: 'format_indent_decrease',\n    },\n    sinkList: {\n        label: 'sink list',\n        icon: 'format_indent_increase',\n    },\n};\n\nexport const slots: ThemePack['slots'] = () => ({\n    icon: (id) => {\n        const span = document.createElement('span');\n        span.className = 'icon material-icons material-icons-outlined';\n        span.textContent = iconMapping[id].icon;\n        return span;\n    },\n    label: (id) => {\n        return iconMapping[id].label;\n    },\n});\n","/* Copyright 2021, Milkdown by Mirone. */\nimport { Emotion } from '@milkdown/design-system';\n\nexport const view = ({ css }: Emotion) => css`\n    /* copy from https://github.com/ProseMirror/@milkdown/prose/blob/master/style/prosemirror.css */\n    .ProseMirror {\n        position: relative;\n    }\n\n    .ProseMirror {\n        word-wrap: break-word;\n        white-space: pre-wrap;\n        white-space: break-spaces;\n        -webkit-font-variant-ligatures: none;\n        font-variant-ligatures: none;\n        font-feature-settings: 'liga' 0; /* the above doesn't seem to work in Edge */\n    }\n\n    .ProseMirror pre {\n        white-space: pre-wrap;\n    }\n\n    .ProseMirror li {\n        position: relative;\n    }\n\n    .ProseMirror-hideselection *::selection {\n        background: transparent;\n    }\n    .ProseMirror-hideselection *::-moz-selection {\n        background: transparent;\n    }\n    .ProseMirror-hideselection {\n        caret-color: transparent;\n    }\n\n    .ProseMirror-selectednode {\n        outline: 2px solid #8cf;\n    }\n\n    /* Make sure li selections wrap around markers */\n\n    li.ProseMirror-selectednode {\n        outline: none;\n    }\n\n    li.ProseMirror-selectednode:after {\n        content: '';\n        position: absolute;\n        left: -32px;\n        right: -2px;\n        top: -2px;\n        bottom: -2px;\n        border: 2px solid #8cf;\n        pointer-events: none;\n    }\n`;\n","/* Copyright 2021, Milkdown by Mirone. */\nimport { themeFactory } from '@milkdown/core';\n\nimport { code, typography } from './font';\nimport { mixin } from './mixin';\nimport { darkColor, lightColor } from './nord';\nimport { override } from './override';\nimport { slots } from './slots';\nimport { view } from './view';\n\nexport const font = {\n    typography,\n    code,\n};\n\nexport const size = {\n    radius: '4px',\n    lineWidth: '1px',\n};\n\nexport const nordLight = themeFactory((emotion) => ({\n    font,\n    size,\n    slots,\n    color: lightColor,\n    mixin: mixin(emotion),\n    global: (themeTool) => {\n        const css = emotion.injectGlobal;\n        css`\n            ${view(emotion)};\n            ${override(emotion)(themeTool)}\n        `;\n    },\n}));\n\nexport const nordDark = themeFactory((emotion) => ({\n    font,\n    size,\n    slots,\n    color: darkColor,\n    mixin: mixin(emotion),\n    global: (themeTool) => {\n        const css = emotion.injectGlobal;\n        css`\n            ${view(emotion)};\n            ${override(emotion)(themeTool)}\n        `;\n    },\n}));\n\nconst darkMode = Boolean(window.matchMedia?.('(prefers-color-scheme: dark)').matches);\nexport const nord = darkMode ? nordDark : nordLight;\n\nexport { mixin } from './mixin';\nexport { color, darkColor, lightColor } from './nord';\nexport { override } from './override';\nexport { slots } from './slots';\nexport { view } from './view';\n"],"names":[],"mappings":"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"}